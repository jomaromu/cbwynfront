<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <div class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1 class="m-0 text-dark">Mis negocios</h1>
        </div>
      </div>
      <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
  </div>
  <!-- /.content-header -->

  <!-- Main content -->
  <section class="content" style="width: 100%; padding: 0">
    <div
      class="container-fluid"
      style="display: flex; justify-content: center; align-items: center"
    >
      <div id="filaNegocios">
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col" id="tNum1">#</th>
              <th scope="col" id="tNum3">Logo</th>
              <th scope="col">Nombre</th>
              <th scope="col">Estado</th>
              <th scope="col">Controles</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let negocio of negocios; let i = index">
              <th scope="row" id="tNum2" class="align-middle">{{ i + 1 }}</th>
              <td id="tNum4">
                <img
                  [src]="negocio.logo[0] | pipeNegocios"
                  class="align-middle"
                  style="
                    width: 40px;
                    border-radius: 50%;
                    border: 1px solid rgb(172, 71, 172);
                  "
                  alt=""
                />
              </td>
              <td class="align-middle" id="txtNnombre">
                {{ negocio.nombre | slice: 0:15 }}
              </td>
              <td class="align-middle">
                <span
                  id="estadoNegocio"
                  class="badge rounded-pill bg-success"
                  *ngIf="negocio.estado === true"
                  >Activo</span
                >
                <span
                  id="estadoNegocio"
                  class="badge rounded-pill bg-danger"
                  *ngIf="negocio.estado === false"
                  >Inactivo</span
                >
              </td>
              <td class="align-middle" id="tdButtonGroup">
                <button
                  class="btn btn-primary"
                  (click)="editarNegocio($event, negocio)"
                >
                  <i class="fas fa-pencil-alt"></i>
                </button>
                <button
                  class="btn btn-info"
                  (click)="verNegocio($event, negocio._id)"
                >
                  <i class="fas fa-eye" style="font-size: 1.2rem"></i>
                </button>
                <button
                  class="btn btn-danger"
                  (click)="eliminarNegocio($event, negocio)"
                >
                  <i class="fas fa-trash-alt"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <!-- /.container-fluid -->
  </section>
  <!-- /.content -->
  <app-editar-negocio
    (editar)="cerrarModal($event)"
    (negociosUsuario)="negociosDelUsuario($event)"
    [negocio]="negocio"
    *ngIf="editar === true"
  ></app-editar-negocio>
</div>
<!-- /.content-wrapper -->
